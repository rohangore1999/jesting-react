{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getStatusProps, isDocumentVisible, isServer, isValidTimeout, noop } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { QueryStatus } from './types';\nimport { DEFAULT_CONFIG, isResolvedQueryConfig } from './config';\nexport var QueryObserver = /*#__PURE__*/function () {\n  function QueryObserver(config) {\n    this.config = config;\n    this.isStale = true;\n    this.initialUpdateCount = 0; // Bind exposed methods\n\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n    this.fetchMore = this.fetchMore.bind(this);\n    this.unsubscribe = this.unsubscribe.bind(this); // Subscribe to the query\n\n    this.updateQuery();\n  }\n\n  var _proto = QueryObserver.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    this.listener = listener || noop;\n    this.currentQuery.subscribeObserver(this);\n\n    if (this.config.enabled && (this.config.forceFetchOnMount || this.config.refetchOnMount === 'always')) {\n      this.fetch();\n    } else {\n      this.optionalFetch();\n    }\n\n    this.updateTimers();\n    return this.unsubscribe;\n  };\n\n  _proto.unsubscribe = function unsubscribe() {\n    this.listener = undefined;\n    this.clearTimers();\n    this.currentQuery.unsubscribeObserver(this);\n  };\n\n  _proto.updateConfig = function updateConfig(config) {\n    var prevConfig = this.config;\n    var prevQuery = this.currentQuery;\n    this.config = isResolvedQueryConfig(config) ? config : this.config.queryCache.getResolvedQueryConfig(this.config.queryKey, config);\n    this.updateQuery(); // Take no further actions if there is no subscriber\n\n    if (!this.listener) {\n      return;\n    } // If we subscribed to a new query, optionally fetch and update refetch\n\n\n    if (this.currentQuery !== prevQuery) {\n      this.optionalFetch();\n      this.updateTimers();\n      return;\n    } // Optionally fetch if the query became enabled\n\n\n    if (config.enabled && !prevConfig.enabled) {\n      this.optionalFetch();\n    } // Update stale interval if needed\n\n\n    if (config.enabled !== prevConfig.enabled || config.staleTime !== prevConfig.staleTime) {\n      this.updateStaleTimeout();\n    } // Update refetch interval if needed\n\n\n    if (config.enabled !== prevConfig.enabled || config.refetchInterval !== prevConfig.refetchInterval) {\n      this.updateRefetchInterval();\n    }\n  };\n\n  _proto.getCurrentQuery = function getCurrentQuery() {\n    return this.currentQuery;\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  }\n  /**\n   * @deprecated\n   */\n  ;\n\n  _proto.clear = function clear() {\n    this.remove();\n  };\n\n  _proto.remove = function remove() {\n    this.currentQuery.remove();\n  };\n\n  _proto.refetch = function refetch(options) {\n    return this.currentQuery.refetch(options, this.config);\n  };\n\n  _proto.fetchMore = function fetchMore(fetchMoreVariable, options) {\n    return this.currentQuery.fetchMore(fetchMoreVariable, options, this.config).catch(noop);\n  };\n\n  _proto.fetch = function fetch() {\n    var _DEFAULT_CONFIG$queri; // Never try to fetch if no query function has been set\n\n\n    if (this.config.queryFn === ((_DEFAULT_CONFIG$queri = DEFAULT_CONFIG.queries) == null ? void 0 : _DEFAULT_CONFIG$queri.queryFn)) {\n      return Promise.resolve(this.currentResult.data);\n    }\n\n    return this.currentQuery.fetch(undefined, this.config).catch(noop);\n  };\n\n  _proto.optionalFetch = function optionalFetch() {\n    if (this.config.enabled && // Only fetch if enabled\n    this.isStale && // Only fetch if stale\n    !(this.config.suspense && this.currentResult.isFetched) && ( // Don't refetch if in suspense mode and the data is already fetched\n    this.config.refetchOnMount || this.currentQuery.observers.length === 1)) {\n      this.fetch();\n    }\n  };\n\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\n    var _this = this;\n\n    if (isServer) {\n      return;\n    }\n\n    this.clearStaleTimeout();\n\n    if (this.isStale || !isValidTimeout(this.config.staleTime)) {\n      return;\n    }\n\n    var timeElapsed = Date.now() - this.currentResult.updatedAt;\n    var timeUntilStale = this.config.staleTime - timeElapsed + 1;\n    var timeout = Math.max(timeUntilStale, 0);\n    this.staleTimeoutId = setTimeout(function () {\n      if (!_this.isStale) {\n        _this.isStale = true;\n\n        _this.updateResult();\n\n        _this.notify({\n          listener: true,\n          globalListeners: true\n        });\n      }\n    }, timeout);\n  };\n\n  _proto.updateRefetchInterval = function updateRefetchInterval() {\n    var _this2 = this;\n\n    if (isServer) {\n      return;\n    }\n\n    this.clearRefetchInterval();\n\n    if (!this.config.enabled || !isValidTimeout(this.config.refetchInterval)) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(function () {\n      if (_this2.config.refetchIntervalInBackground || isDocumentVisible()) {\n        _this2.fetch();\n      }\n    }, this.config.refetchInterval);\n  };\n\n  _proto.updateTimers = function updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval();\n  };\n\n  _proto.clearTimers = function clearTimers() {\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n  };\n\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  };\n\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  };\n\n  _proto.updateResult = function updateResult() {\n    var _this$previousQueryRe;\n\n    var state = this.currentQuery.state;\n    var data = state.data,\n        status = state.status,\n        updatedAt = state.updatedAt;\n    var isPreviousData = false;\n    var isPlaceholderData = false; // Keep previous data if needed\n\n    if (this.config.keepPreviousData && state.isInitialData && ((_this$previousQueryRe = this.previousQueryResult) == null ? void 0 : _this$previousQueryRe.isSuccess)) {\n      data = this.previousQueryResult.data;\n      updatedAt = this.previousQueryResult.updatedAt;\n      status = this.previousQueryResult.status;\n      isPreviousData = true;\n    }\n\n    if (status === 'loading' && this.config.placeholderData) {\n      var placeholderData = typeof this.config.placeholderData === 'function' ? this.config.placeholderData() : this.config.placeholderData;\n\n      if (typeof placeholderData !== 'undefined') {\n        status = QueryStatus.Success;\n        data = placeholderData;\n        isPlaceholderData = true;\n      }\n    }\n\n    this.currentResult = _extends({}, getStatusProps(status), {\n      canFetchMore: state.canFetchMore,\n      clear: this.remove,\n      data: data,\n      error: state.error,\n      failureCount: state.failureCount,\n      fetchMore: this.fetchMore,\n      isFetched: state.updateCount > 0,\n      isFetchedAfterMount: state.updateCount > this.initialUpdateCount,\n      isFetching: state.isFetching,\n      isFetchingMore: state.isFetchingMore,\n      isInitialData: state.isInitialData,\n      isPreviousData: isPreviousData,\n      isPlaceholderData: isPlaceholderData,\n      isStale: this.isStale,\n      refetch: this.refetch,\n      remove: this.remove,\n      updatedAt: updatedAt\n    });\n  };\n\n  _proto.updateQuery = function updateQuery() {\n    var config = this.config;\n    var prevQuery = this.currentQuery;\n    var query = config.queryCache.getQueryByHash(config.queryHash);\n\n    if (!query) {\n      query = config.queryCache.createQuery(config);\n    }\n\n    if (query === prevQuery) {\n      return;\n    }\n\n    this.previousQueryResult = this.currentResult;\n    this.currentQuery = query;\n    this.initialUpdateCount = query.state.updateCount; // Update stale state on query switch\n\n    if (query.state.isInitialData) {\n      if (config.keepPreviousData && prevQuery) {\n        this.isStale = true;\n      } else if (typeof config.initialStale === 'function') {\n        this.isStale = config.initialStale();\n      } else if (typeof config.initialStale === 'boolean') {\n        this.isStale = config.initialStale;\n      } else {\n        this.isStale = typeof query.state.data === 'undefined';\n      }\n    } else {\n      this.isStale = query.isStaleByTime(config.staleTime);\n    }\n\n    this.updateResult();\n\n    if (this.listener) {\n      prevQuery == null ? void 0 : prevQuery.unsubscribeObserver(this);\n      this.currentQuery.subscribeObserver(this);\n    }\n  };\n\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\n    var config = this.config;\n    var type = action.type; // Update stale state on success, error or invalidation\n\n    if (type === 2 || type === 3 || type === 4) {\n      this.isStale = this.currentQuery.isStaleByTime(config.staleTime);\n    } // Store current result and get new result\n\n\n    var prevResult = this.currentResult;\n    this.updateResult();\n    var currentResult = this.currentResult; // Update timers on success, error or invalidation\n\n    if (type === 2 || type === 3 || type === 4) {\n      this.updateTimers();\n    } // Do not notify if the query was invalidated but the stale state did not changed\n\n\n    if (type === 4 && currentResult.isStale === prevResult.isStale) {\n      return;\n    } // Determine which callbacks to trigger\n\n\n    var notifyOptions = {};\n\n    if (type === 2) {\n      notifyOptions.onSuccess = true;\n    } else if (type === 3) {\n      notifyOptions.onError = true;\n    }\n\n    if ( // Always notify if notifyOnStatusChange is set\n    config.notifyOnStatusChange || // Otherwise only notify on data or error change\n    currentResult.data !== prevResult.data || currentResult.error !== prevResult.error) {\n      notifyOptions.listener = true;\n    }\n\n    this.notify(notifyOptions);\n  };\n\n  _proto.notify = function notify(options) {\n    var config = this.config,\n        currentResult = this.currentResult,\n        currentQuery = this.currentQuery,\n        listener = this.listener;\n    var onSuccess = config.onSuccess,\n        onSettled = config.onSettled,\n        onError = config.onError;\n    notifyManager.batch(function () {\n      // First trigger the configuration callbacks\n      if (options.onSuccess) {\n        if (onSuccess) {\n          notifyManager.schedule(function () {\n            onSuccess(currentResult.data);\n          });\n        }\n\n        if (onSettled) {\n          notifyManager.schedule(function () {\n            onSettled(currentResult.data, null);\n          });\n        }\n      } else if (options.onError) {\n        if (onError) {\n          notifyManager.schedule(function () {\n            onError(currentResult.error);\n          });\n        }\n\n        if (onSettled) {\n          notifyManager.schedule(function () {\n            onSettled(undefined, currentResult.error);\n          });\n        }\n      } // Then trigger the listener\n\n\n      if (options.listener && listener) {\n        notifyManager.schedule(function () {\n          listener(currentResult);\n        });\n      } // Then the global listeners\n\n\n      if (options.globalListeners) {\n        config.queryCache.notifyGlobalListeners(currentQuery);\n      }\n    });\n  };\n\n  return QueryObserver;\n}();","map":{"version":3,"names":["_extends","getStatusProps","isDocumentVisible","isServer","isValidTimeout","noop","notifyManager","QueryStatus","DEFAULT_CONFIG","isResolvedQueryConfig","QueryObserver","config","isStale","initialUpdateCount","remove","bind","refetch","fetchMore","unsubscribe","updateQuery","_proto","prototype","subscribe","listener","currentQuery","subscribeObserver","enabled","forceFetchOnMount","refetchOnMount","fetch","optionalFetch","updateTimers","undefined","clearTimers","unsubscribeObserver","updateConfig","prevConfig","prevQuery","queryCache","getResolvedQueryConfig","queryKey","staleTime","updateStaleTimeout","refetchInterval","updateRefetchInterval","getCurrentQuery","getCurrentResult","currentResult","clear","options","fetchMoreVariable","catch","_DEFAULT_CONFIG$queri","queryFn","queries","Promise","resolve","data","suspense","isFetched","observers","length","_this","clearStaleTimeout","timeElapsed","Date","now","updatedAt","timeUntilStale","timeout","Math","max","staleTimeoutId","setTimeout","updateResult","notify","globalListeners","_this2","clearRefetchInterval","refetchIntervalId","setInterval","refetchIntervalInBackground","clearTimeout","clearInterval","_this$previousQueryRe","state","status","isPreviousData","isPlaceholderData","keepPreviousData","isInitialData","previousQueryResult","isSuccess","placeholderData","Success","canFetchMore","error","failureCount","updateCount","isFetchedAfterMount","isFetching","isFetchingMore","query","getQueryByHash","queryHash","createQuery","initialStale","isStaleByTime","onQueryUpdate","action","type","prevResult","notifyOptions","onSuccess","onError","notifyOnStatusChange","onSettled","batch","schedule","notifyGlobalListeners"],"sources":["/Users/rohangore/Documents/jesting-react/node_modules/react-query/es/core/queryObserver.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getStatusProps, isDocumentVisible, isServer, isValidTimeout, noop } from './utils';\nimport { notifyManager } from './notifyManager';\nimport { QueryStatus } from './types';\nimport { DEFAULT_CONFIG, isResolvedQueryConfig } from './config';\nexport var QueryObserver = /*#__PURE__*/function () {\n  function QueryObserver(config) {\n    this.config = config;\n    this.isStale = true;\n    this.initialUpdateCount = 0; // Bind exposed methods\n\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n    this.fetchMore = this.fetchMore.bind(this);\n    this.unsubscribe = this.unsubscribe.bind(this); // Subscribe to the query\n\n    this.updateQuery();\n  }\n\n  var _proto = QueryObserver.prototype;\n\n  _proto.subscribe = function subscribe(listener) {\n    this.listener = listener || noop;\n    this.currentQuery.subscribeObserver(this);\n\n    if (this.config.enabled && (this.config.forceFetchOnMount || this.config.refetchOnMount === 'always')) {\n      this.fetch();\n    } else {\n      this.optionalFetch();\n    }\n\n    this.updateTimers();\n    return this.unsubscribe;\n  };\n\n  _proto.unsubscribe = function unsubscribe() {\n    this.listener = undefined;\n    this.clearTimers();\n    this.currentQuery.unsubscribeObserver(this);\n  };\n\n  _proto.updateConfig = function updateConfig(config) {\n    var prevConfig = this.config;\n    var prevQuery = this.currentQuery;\n    this.config = isResolvedQueryConfig(config) ? config : this.config.queryCache.getResolvedQueryConfig(this.config.queryKey, config);\n    this.updateQuery(); // Take no further actions if there is no subscriber\n\n    if (!this.listener) {\n      return;\n    } // If we subscribed to a new query, optionally fetch and update refetch\n\n\n    if (this.currentQuery !== prevQuery) {\n      this.optionalFetch();\n      this.updateTimers();\n      return;\n    } // Optionally fetch if the query became enabled\n\n\n    if (config.enabled && !prevConfig.enabled) {\n      this.optionalFetch();\n    } // Update stale interval if needed\n\n\n    if (config.enabled !== prevConfig.enabled || config.staleTime !== prevConfig.staleTime) {\n      this.updateStaleTimeout();\n    } // Update refetch interval if needed\n\n\n    if (config.enabled !== prevConfig.enabled || config.refetchInterval !== prevConfig.refetchInterval) {\n      this.updateRefetchInterval();\n    }\n  };\n\n  _proto.getCurrentQuery = function getCurrentQuery() {\n    return this.currentQuery;\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  }\n  /**\n   * @deprecated\n   */\n  ;\n\n  _proto.clear = function clear() {\n    this.remove();\n  };\n\n  _proto.remove = function remove() {\n    this.currentQuery.remove();\n  };\n\n  _proto.refetch = function refetch(options) {\n    return this.currentQuery.refetch(options, this.config);\n  };\n\n  _proto.fetchMore = function fetchMore(fetchMoreVariable, options) {\n    return this.currentQuery.fetchMore(fetchMoreVariable, options, this.config).catch(noop);\n  };\n\n  _proto.fetch = function fetch() {\n    var _DEFAULT_CONFIG$queri;\n\n    // Never try to fetch if no query function has been set\n    if (this.config.queryFn === ((_DEFAULT_CONFIG$queri = DEFAULT_CONFIG.queries) == null ? void 0 : _DEFAULT_CONFIG$queri.queryFn)) {\n      return Promise.resolve(this.currentResult.data);\n    }\n\n    return this.currentQuery.fetch(undefined, this.config).catch(noop);\n  };\n\n  _proto.optionalFetch = function optionalFetch() {\n    if (this.config.enabled && // Only fetch if enabled\n    this.isStale && // Only fetch if stale\n    !(this.config.suspense && this.currentResult.isFetched) && ( // Don't refetch if in suspense mode and the data is already fetched\n    this.config.refetchOnMount || this.currentQuery.observers.length === 1)) {\n      this.fetch();\n    }\n  };\n\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\n    var _this = this;\n\n    if (isServer) {\n      return;\n    }\n\n    this.clearStaleTimeout();\n\n    if (this.isStale || !isValidTimeout(this.config.staleTime)) {\n      return;\n    }\n\n    var timeElapsed = Date.now() - this.currentResult.updatedAt;\n    var timeUntilStale = this.config.staleTime - timeElapsed + 1;\n    var timeout = Math.max(timeUntilStale, 0);\n    this.staleTimeoutId = setTimeout(function () {\n      if (!_this.isStale) {\n        _this.isStale = true;\n\n        _this.updateResult();\n\n        _this.notify({\n          listener: true,\n          globalListeners: true\n        });\n      }\n    }, timeout);\n  };\n\n  _proto.updateRefetchInterval = function updateRefetchInterval() {\n    var _this2 = this;\n\n    if (isServer) {\n      return;\n    }\n\n    this.clearRefetchInterval();\n\n    if (!this.config.enabled || !isValidTimeout(this.config.refetchInterval)) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(function () {\n      if (_this2.config.refetchIntervalInBackground || isDocumentVisible()) {\n        _this2.fetch();\n      }\n    }, this.config.refetchInterval);\n  };\n\n  _proto.updateTimers = function updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval();\n  };\n\n  _proto.clearTimers = function clearTimers() {\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n  };\n\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  };\n\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  };\n\n  _proto.updateResult = function updateResult() {\n    var _this$previousQueryRe;\n\n    var state = this.currentQuery.state;\n    var data = state.data,\n        status = state.status,\n        updatedAt = state.updatedAt;\n    var isPreviousData = false;\n    var isPlaceholderData = false; // Keep previous data if needed\n\n    if (this.config.keepPreviousData && state.isInitialData && ((_this$previousQueryRe = this.previousQueryResult) == null ? void 0 : _this$previousQueryRe.isSuccess)) {\n      data = this.previousQueryResult.data;\n      updatedAt = this.previousQueryResult.updatedAt;\n      status = this.previousQueryResult.status;\n      isPreviousData = true;\n    }\n\n    if (status === 'loading' && this.config.placeholderData) {\n      var placeholderData = typeof this.config.placeholderData === 'function' ? this.config.placeholderData() : this.config.placeholderData;\n\n      if (typeof placeholderData !== 'undefined') {\n        status = QueryStatus.Success;\n        data = placeholderData;\n        isPlaceholderData = true;\n      }\n    }\n\n    this.currentResult = _extends({}, getStatusProps(status), {\n      canFetchMore: state.canFetchMore,\n      clear: this.remove,\n      data: data,\n      error: state.error,\n      failureCount: state.failureCount,\n      fetchMore: this.fetchMore,\n      isFetched: state.updateCount > 0,\n      isFetchedAfterMount: state.updateCount > this.initialUpdateCount,\n      isFetching: state.isFetching,\n      isFetchingMore: state.isFetchingMore,\n      isInitialData: state.isInitialData,\n      isPreviousData: isPreviousData,\n      isPlaceholderData: isPlaceholderData,\n      isStale: this.isStale,\n      refetch: this.refetch,\n      remove: this.remove,\n      updatedAt: updatedAt\n    });\n  };\n\n  _proto.updateQuery = function updateQuery() {\n    var config = this.config;\n    var prevQuery = this.currentQuery;\n    var query = config.queryCache.getQueryByHash(config.queryHash);\n\n    if (!query) {\n      query = config.queryCache.createQuery(config);\n    }\n\n    if (query === prevQuery) {\n      return;\n    }\n\n    this.previousQueryResult = this.currentResult;\n    this.currentQuery = query;\n    this.initialUpdateCount = query.state.updateCount; // Update stale state on query switch\n\n    if (query.state.isInitialData) {\n      if (config.keepPreviousData && prevQuery) {\n        this.isStale = true;\n      } else if (typeof config.initialStale === 'function') {\n        this.isStale = config.initialStale();\n      } else if (typeof config.initialStale === 'boolean') {\n        this.isStale = config.initialStale;\n      } else {\n        this.isStale = typeof query.state.data === 'undefined';\n      }\n    } else {\n      this.isStale = query.isStaleByTime(config.staleTime);\n    }\n\n    this.updateResult();\n\n    if (this.listener) {\n      prevQuery == null ? void 0 : prevQuery.unsubscribeObserver(this);\n      this.currentQuery.subscribeObserver(this);\n    }\n  };\n\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\n    var config = this.config;\n    var type = action.type; // Update stale state on success, error or invalidation\n\n    if (type === 2 || type === 3 || type === 4) {\n      this.isStale = this.currentQuery.isStaleByTime(config.staleTime);\n    } // Store current result and get new result\n\n\n    var prevResult = this.currentResult;\n    this.updateResult();\n    var currentResult = this.currentResult; // Update timers on success, error or invalidation\n\n    if (type === 2 || type === 3 || type === 4) {\n      this.updateTimers();\n    } // Do not notify if the query was invalidated but the stale state did not changed\n\n\n    if (type === 4 && currentResult.isStale === prevResult.isStale) {\n      return;\n    } // Determine which callbacks to trigger\n\n\n    var notifyOptions = {};\n\n    if (type === 2) {\n      notifyOptions.onSuccess = true;\n    } else if (type === 3) {\n      notifyOptions.onError = true;\n    }\n\n    if ( // Always notify if notifyOnStatusChange is set\n    config.notifyOnStatusChange || // Otherwise only notify on data or error change\n    currentResult.data !== prevResult.data || currentResult.error !== prevResult.error) {\n      notifyOptions.listener = true;\n    }\n\n    this.notify(notifyOptions);\n  };\n\n  _proto.notify = function notify(options) {\n    var config = this.config,\n        currentResult = this.currentResult,\n        currentQuery = this.currentQuery,\n        listener = this.listener;\n    var onSuccess = config.onSuccess,\n        onSettled = config.onSettled,\n        onError = config.onError;\n    notifyManager.batch(function () {\n      // First trigger the configuration callbacks\n      if (options.onSuccess) {\n        if (onSuccess) {\n          notifyManager.schedule(function () {\n            onSuccess(currentResult.data);\n          });\n        }\n\n        if (onSettled) {\n          notifyManager.schedule(function () {\n            onSettled(currentResult.data, null);\n          });\n        }\n      } else if (options.onError) {\n        if (onError) {\n          notifyManager.schedule(function () {\n            onError(currentResult.error);\n          });\n        }\n\n        if (onSettled) {\n          notifyManager.schedule(function () {\n            onSettled(undefined, currentResult.error);\n          });\n        }\n      } // Then trigger the listener\n\n\n      if (options.listener && listener) {\n        notifyManager.schedule(function () {\n          listener(currentResult);\n        });\n      } // Then the global listeners\n\n\n      if (options.globalListeners) {\n        config.queryCache.notifyGlobalListeners(currentQuery);\n      }\n    });\n  };\n\n  return QueryObserver;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"module"}